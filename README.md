# kindling-java
Kindling-java is an attach agent to collect Java CPU / LOCK for probe which relies on async-profiler. Besides it also collect traceId generated by SkyWalking agent.

Feautres
* [Automation] Copy agent from host to the container and attach agent by jattach.
* [Plugins] Enhance SkyWalking Agent and copy traceId into /dev/null.

## Build Kindling Java & AsyncProfiler
```
# Binary will be built in build/async-profiler-${version}-${arch}.${zip/tar.gz}
$ ./build.sh

async-profiler-2.8.3-linux-x64
├── agent
│   ├── 1.0.0
│   │   ├── agent-core.jar
│   │   └── plugin-traceid-sw.jar
│   ├── agent-boot.jar
│   └── version
├── build
│   ├── async-profiler.jar
│   ├── converter.jar
│   ├── fdtransfer
│   ├── jattach
│   └── libasyncProfiler.so
├── CHANGELOG.md
├── LICENSE
├── profiler.sh
└── README.md
```

## Attach Java Application
> ./profiler.sh start $pid

## Detach Java Application
> ./profiler.sh stop $pid